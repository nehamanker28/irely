{"version":3,"sources":["./src/app/pages/customer/customer-routing.module.ts","./src/app/pages/customer/customer.module.ts","./src/app/pages/customer/customer.page.ts","./src/app/pages/customer/customer.page.scss","./src/app/pages/customer/customer.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wDAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;AACsC;AACP;AACf;AAEK;IAiBvD,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAf9B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,wDAAW;YACX,+EAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,wDAAY,CAAC;QAC5B,SAAS,EAAE;YACT,mEAAO;YACP,yFAAS;YACT,mFAAa;YACb,yEAAQ;SACT;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9B8B;AACsC;AACd;AAG5C;AAC2C;IAOvE,YAAY,SAAZ,YAAY;IAgBvB,YAAmB,OAAsB,EAChC,WAA8B,EAC9B,SAA0B,EACzB,MAAc,EACf,SAAoB,EACnB,IAAoB;QALX,YAAO,GAAP,OAAO,CAAe;QAChC,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QACzB,WAAM,GAAN,MAAM,CAAQ;QACf,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAgB;QAlB9B,SAAI,GAAG,EAAE,CAAC;QACV,aAAQ,GAAG,EAAE,CAAC;QACd,UAAK,GAAG,EAAE,CAAC;QACX,kBAAa,GAAG,EAAE,CAAC;QACnB,oBAAe,GAAG,EAAE,CAAC;QACrB,sBAAiB,GAAG,CAAC,CAAC;QACtB,gBAAW,GAAG,CAAC,CAAC;QAGhB,wBAAmB,GAAY,IAAI,CAAC;QACpC,wBAAmB,GAAY,IAAI,CAAC;QACpC,kBAAa,GAAY,KAAK,CAAC;QAQ3B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,eAAe;QACb,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,EAAE,CAAC,cAAc,EAAE,CAAC;QACpB,EAAE,CAAC,eAAe,EAAE,CAAC;QAErB,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC3E,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACtB,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,0BAA0B,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,UAAU,CAAC,KAAa;QACtB,IAAI,EAAE,GAAG,IAAI,CAAC;QAEd,IAAI,KAAK,IAAI,KAAK,KAAK,EAAE,EAAE;YACzB,EAAE,CAAC,aAAa,GAAG,yBAAyB,GAAG,KAAK,GAAE,MAAM,CAAC;SAC9D;aACI;YACH,EAAE,CAAC,aAAa,GAAG,EAAE,CAAC;SACvB;QAED,EAAE,CAAC,eAAe,EAAE,CAAC;IACvB,CAAC;IAED,cAAc;QACZ,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,qDAAqD,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YAC1F,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAG,GAAG,CAAC,CAAC,CAAC,EAAE;gBACT,EAAE,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;aACxB;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;YACX,OAAO,CAAC,GAAG;YACX,IAAG,EAAE,CAAC,UAAU,IAAI,IAAI,IAAI,EAAE,CAAC,UAAU,IAAI,SAAS,EAAE;gBACtD,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,qDAAqD,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBAC1F,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAG,GAAG,CAAC,CAAC,CAAC,EAAE;wBACT,EAAE,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;qBACxB;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,eAAe;;YACnB,IAAI,EAAE,GAAG,IAAI,EACT,MAAM,GAAG,EAAE,CAAC;YAEhB,EAAE,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAC9B,EAAE,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAC9B,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;YAEb,IAAI,MAAM,GAAG,MAAM,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,iBAAiB,EAAE,eAAe,EAAE,IAAI,EAAC,CAAC,CAAC;YAC9F,MAAM,CAAC,OAAO,EAAE,CAAC;YAEjB,IAAI,EAAE,CAAC,WAAW,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,KAAK,SAAS,EAAE;gBACzD,MAAM,GAAG,oDAAoD,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,KAAK;oBACnF,gCAAgC,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,KAAK;oBACxF,8BAA8B,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,KAAK;oBACtF,+BAA+B,GAAG,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,KAAK;oBACvF,qCAAqC,CAAC;aACzE;iBACI;gBACH,MAAM,GAAG,+DAA+D,CAAC;aAC1E;YAED,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAEpB,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBAC9D,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC1C,MAAM,CAAC,OAAO,EAAE,CAAC;gBACjB,IAAI,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC;gBACnC,UAAU,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACtD,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,CAAC,EAAE;gBACT,MAAM,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,WAAW;;YACf,IAAI,EAAE,GAAG,IAAI,CAAC;YACd,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,GAAG,GAAG,GAAG,EAAE,CAAC,iBAAiB,GAAG,GAAG,GAAG,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;YAElG,IAAI,cAAc,GAAG,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC7C,MAAM,EAAE,gBAAgB;gBACxB,OAAO,EAAE,qCAAqC;gBAC9C,QAAQ,EAAE,cAAc;gBACxB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;4BACzB,kGAAuB,GAAG,EAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;4BACxG,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;wBACtC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;4BACzB,kGAAuB,GAAG,EAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAC,CAAC;4BACzG,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;wBACtC,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,IAAI,qBAAqB,GAAG,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpD,OAAO,EAAE,4BAA4B;gBACrC,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;wBACd,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,IAAI,OAAO,GAAG,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC;gBACtC,MAAM,EAAE,gBAAgB;gBACxB,OAAO,EAAE,oCAAoC;gBAC7C,QAAQ,EAAE,cAAc;gBACxB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAG,EAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,MAAM,IAAI,EAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,IAAI,EAAE;gCACzF,cAAc,CAAC,OAAO,EAAE,CAAC;6BAC1B;iCACI;gCACH,qBAAqB,CAAC,OAAO,EAAE,CAAC;6BACjC;wBACH,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;wBAEd,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KAAA;IAED,YAAY,CAAC,OAAO;QAClB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,YAAY,CAAC,OAAO;QAClB,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,mBAAmB,CAAC,IAAI;QACtB,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,kGAAuB,GAAG,EAAC,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,EAAC,CAAC;QAC7F,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;IACnD,CAAC;IAEK,mBAAmB;;YACvB,IAAI,EAAE,GAAG,IAAI,CAAC;YACd,IAAI,MAAM,GAAG,MAAM,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,iBAAiB,EAAE,eAAe,EAAE,IAAI,EAAC,CAAC,CAAC;YAC9F,MAAM,CAAC,OAAO,EAAE,CAAC;YAEjB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC;YAElC,IAAI,MAAM,GAAG,uIAAuI,GAAG,EAAE,CAAC,iBAAiB,GAAG,IAAI,CAAC;YACnL,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBAC3C,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC3C,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBACtB,MAAM,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,CAAC,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,MAAM,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,qBAAqB,CAAC,IAAI;QACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,EAAE;YAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;SACtC;IACH,CAAC;IAED,OAAO,CAAC,IAAI;QACV,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3B,4GAA4G;IAC9G,CAAC;IAED,WAAW;QACT,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,kGAAuB,GAAG,EAAC,YAAY,EAAE,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,IAAI,EAAC,CAAC;QAC5E,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IAED,UAAU,CAAC,KAAK;QAEd,OAAO,KAAK,CAAC,QAAQ,EAAE,GAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,UAAU,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;IAC/J,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,IAAI,OAAO,GAAG;YACZ,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO;YAC/B,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS;SAC1C,CAAC;QACX,OAAO,KAAK,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACpD,CAAC;CAEF;;YAlQwB,yDAAa;YAAE,6DAAiB;YAAE,2DAAe;YAIjE,mDAAM;YAHN,yFAAS;YADT,0DAAc;;;0BAapB,oDAAS,SAAC,WAAW,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC;;AAD5B,YAAY;IALxB,wDAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,6EAAmC;;KAEpC,CAAC;GACW,YAAY,CAsPxB;AAtPwB;;;;;;;;;;;;;;;;ACbzB,iEAAe,8CAA8C,oDAAoD,uBAAuB,GAAG,gDAAgD,mCAAmC,uBAAuB,GAAG,eAAe,mCAAmC,uBAAuB,GAAG,6CAA6C,21BAA21B,E;;;;;;;;;;;;;;;ACA5sC,iEAAe,ytBAAytB,kJAAkJ,KAAK,KAAK,sBAAsB,QAAQ,GAAG,wBAAwB,wDAAwD,uBAAuB,IAAI,oBAAoB,IAAI,qBAAqB,IAAI,uBAAuB,6DAA6D,eAAe,QAAQ,iBAAiB,gBAAgB,sHAAsH,E","file":"src_app_pages_customer_customer_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustomerPage } from './customer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustomerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustomerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustomerPageRoutingModule } from './customer-routing.module';\n\nimport { CustomerPage } from './customer.page';\nimport { CommonSQL } from '../../framework/_common/sqlite/implementation/common-sql';\nimport { GlobalInfoBRL } from '../../framework/brl/implementation/globalinfo';\nimport { Message } from '../../framework/_common/base/message';\n\nimport { OrderBRL } from '../../framework/brl/implementation/order';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustomerPageRoutingModule\n  ],\n  declarations: [CustomerPage],\n  providers: [\n    Message,\n    CommonSQL,\n    GlobalInfoBRL,\n    OrderBRL\n  ]\n})\nexport class CustomerPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MenuController, NavController, LoadingController, AlertController } from '@ionic/angular';\nimport { CommonSQL } from '../../framework/_common/sqlite/implementation/common-sql';\nimport { async } from 'rxjs/internal/scheduler/async';\n\nimport { Router } from '@angular/router';\nimport { Configuration } from '../../framework/_common/configuration/configuration';\n \n@Component({\n  selector: 'app-customer',\n  templateUrl: './customer.page.html',\n  styleUrls: ['./customer.page.scss'],\n})\nexport class CustomerPage implements OnInit {\n  @ViewChild('txtSearch', {static: false}) searchInput;\n\n  data = [];\n  customer = [];\n  sites = [];\n  currentFilter = '';\n  currentCustomer = '';\n  currentCustomerId = 0;\n  currentSite = 0;\n  searchValue: any;\n  globalInfo: any;\n  createInvoiceButton: boolean = true;\n  createPaymentButton: boolean = true;\n  showSearchbar: boolean = false;\n\n  constructor(public navCtrl: NavController,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    private router: Router,\n    public commonSQL: CommonSQL,\n    private menu: MenuController) {\n      this.menu.enable(true);\n  }\n\n  ngOnInit() {\n    this.menu.enable(true);\n  }\n\n  ionViewDidEnter() {\n    var me = this;\n    me.userGlobalInfo();\n    me.getCustomerList();\n\n    var _rows = Array.from(document.getElementsByClassName('searchbar-input'));\n    _rows.forEach(element => {\n      element.setAttribute(\"style\", \"height: 50px !important;\");\n    });\n    this.menu.enable(true);\n  }\n\n  sortFilter(query: string) {\n    var me = this;\n\n    if (query && query !== '') {\n      me.currentFilter = ' where strName like \\'%' + query +'%\\' ';  \n    }\n    else {\n      me.currentFilter = '';\n    }\n\n    me.getCustomerList();\n  }\n\n  userGlobalInfo() {\n    var me = this;\n    me.commonSQL.getDataQuery('select * from globalinfo where ysnLogged = \\'true\\'').then(res => {      \n      console.log(res);\n      if(res[0]) {\n        me.globalInfo = res[0];\n      }\n    }).catch(e => {\n      console.log\n      if(me.globalInfo == null || me.globalInfo == undefined) {\n        me.commonSQL.getDataQuery('select * from globalinfo where ysnLogged = \\'true\\'').then(res => {      \n          console.log(res);\n          if(res[0]) {\n            me.globalInfo = res[0];\n          }\n        });\n      }\n    });\n  }\n\n  async getCustomerList() {\n    var me = this,\n        _query = '';\n\n    me.createInvoiceButton = true;\n    me.createPaymentButton = true;\n    me.data = [];\n\n    let loader = await me.loadingCtrl.create({message: \"Loading data...\", backdropDismiss: true});\n    loader.present();\n\n    if (me.searchValue !== \"\" && me.searchValue !== undefined) {\n      _query = 'SELECT * FROM tblARCustomer where strName like \\'%' + me.searchValue.toString().replace(/'/g, \"''\") + '%\\'' +\n                                        ' or strCustomerNumber like \\'%' + me.searchValue.toString().replace(/'/g, \"''\") + '%\\'' +\n                                        ' or strCustomerName like \\'%' + me.searchValue.toString().replace(/'/g, \"''\") + '%\\'' +\n                                        ' or strBillToAddress like \\'%' + me.searchValue.toString().replace(/'/g, \"''\") + '%\\'' +\n                                        ' order by strCustomerName LIMIT 50 ';\n    }\n    else {\n      _query = 'SELECT * FROM tblARCustomer order by strCustomerName LIMIT 50';  \n    }\n\n    console.log(_query);\n    \n    me.commonSQL.getDataQuery(_query + me.currentFilter).then(res => {\n      me.data = JSON.parse(JSON.stringify(res));\n      loader.dismiss(); \n      var _txtSearch = me.searchInput.el;\n      _txtSearch.getElementsByTagName('input')[0].focus();\n    })\n    .catch(e => {\n      loader.dismiss();\n    });\n  }\n\n  async showInvoice() {\n    var me = this;\n    console.log(me.currentCustomer + ' ' + me.currentCustomerId + ' ' + me.globalInfo['intLocation']);\n\n    var _createInvoice = await me.alertCtrl.create({\n      header: 'Create Invoice',\n      message: 'Is this invoice a metered delivery?',\n      cssClass: 'order-msgbox',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => { \n            console.log(me.customer);\n            Configuration.navParams = {customer: me.customer, isFromCustomer: true, sites: me.sites, isMeter: true};\n            me.router.navigateByUrl('/invoice');\n          }\n        },\n        {\n          text: 'No',\n          handler: () => {\n            console.log(me.customer);\n            Configuration.navParams = {customer: me.customer, isFromCustomer: true, sites: me.sites, isMeter: false};\n            me.router.navigateByUrl('/invoice');\n          }\n        }\n      ]\n    });\n\n    var _createInvoiceInvalid = await me.alertCtrl.create({\n      message: 'Shift has not yet started!',\n      buttons: [\n        {\n          text: 'Ok',\n          handler: () => {\n          }\n        }\n      ]\n    });\n\n    let confirm = await me.alertCtrl.create({\n      header: 'Create Invoice',\n      message: 'Are you sure you want to continue?',\n      cssClass: 'order-msgbox',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: () => {\n            if(me.globalInfo['ysnShiftOnGoing'] == 'true' || me.globalInfo['ysnShiftOnGoing'] == true) {            \n              _createInvoice.present();\n            }\n            else {\n              _createInvoiceInvalid.present();\n            }\n          }\n        },\n        {\n          text: 'No',\n          handler: () => {\n                       \n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  reorderItems(indexes) {\n    let element = this.data[indexes.from];\n    this.data.splice(indexes.from, 1);\n    this.data.splice(indexes.to, 0, element);\n  }\n\n  reorderSites(indexes) {\n    let element = this.sites[indexes.from];\n    this.sites.splice(indexes.from, 1);\n    this.sites.splice(indexes.to, 0, element);\n  }\n\n  showCustomerDetails(item) {\n    var me = this;\n    Configuration.navParams = {customerDetail: item, globalInfo: me.globalInfo, sites: me.sites};\n    me.router.navigateByUrl('/customer-detail-info');\n  }\n\n  async getConsumptionSites() {\n    var me = this;\n    let loader = await me.loadingCtrl.create({message: \"Loading data...\", backdropDismiss: true});\n    loader.present();\n\n    console.log(me.currentCustomerId);\n\n    var _query = 'SELECT * FROM tblTMSite left join tblTMSiteDevice on tblTMSiteDevice.intSiteId = tblTMSite.intSiteId where tblTMSite.intEntityId = \\'' + me.currentCustomerId + '\\'';\n    console.log(_query);\n    me.commonSQL.getDataQuery(_query).then(res => {      \n      me.sites = JSON.parse(JSON.stringify(res));\n      console.log('sites');\n      console.log(me.sites);\n      loader.dismiss();\n    })\n    .catch(e => {\n      console.log(e);\n      loader.dismiss();\n    });\n  }\n\n  selectConsumptionSite(site) {\n    console.log(site);\n    if (site['intSiteId'] !== null && site['intSiteId'] !== \"\") {\n      this.currentSite = site['intSiteId'];\n    }    \n  }\n\n  showOOG(site) {\n    console.log(site);\n    console.log(this.customer);\n    // this.navCtrl.push(\"DeliveryOutofgasPage\", { currentCustomerData: this.customer, currentSiteData: site });\n  }\n\n  showPayment() {\n    var me = this;\n    Configuration.navParams = {customerData: me.customer, isFromCustomer: true};\n    me.router.navigateByUrl('/payment');\n  }\n\n  formatDate(value)\n  {\n    return value.getMonth()+1 + \"/\" + value.getDate() + \"/\" + value.getFullYear() + ' ' + value.getHours() + ':' + value.getMinutes() + ':' + value.getSeconds();\n  }\n\n  getDateFormat(value) {\n    var options = {  \n      year: \"numeric\", month: \"short\",  \n      day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\"\n    } as const;\n    return value.toLocaleTimeString(\"en-US\", options);\n  }\n\n}\n","export default \"ion-item-sliding[track=generated] ion-label {\\n  border-left: 2px solid var(--ion-color-primary);\\n  padding-left: 10px;\\n}\\n\\nion-item-sliding[track=customer] ion-label {\\n  border-left: 2px solid #6600cc;\\n  padding-left: 10px;\\n}\\n\\n.customer {\\n  border-left: 2px solid #6600cc;\\n  padding-left: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTRTtFQUNFLCtDQUFBO0VBQ0Esa0JBQUE7QUFSSjs7QUFNRTtFQUNFLDhCQUFBO0VBQ0Esa0JBQUE7QUFISjs7QUFPQTtFQUNFLDhCQUFBO0VBQ0Usa0JBQUE7QUFKSiIsImZpbGUiOiJjdXN0b21lci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkY2F0ZWdvcmllczogKFxuICAgIGdlbmVyYXRlZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpLFxuICAgIGN1c3RvbWVyOiAjNjYwMGNjLFxuIC8vICAgZm9vZDogIzNiYzdjNCxcbiAvLyAgIGRvY3VtZW50YXRpb246ICNiMTZiZTMsXG4gLy8gICBuYXZpZ2F0aW9uOiAjNjYwMGNjXG4gKTtcbiBcbiBAZWFjaCAkdHJhY2ssICR2YWx1ZSBpbiBtYXAtcmVtb3ZlKCRjYXRlZ29yaWVzKSB7XG4gIGlvbi1pdGVtLXNsaWRpbmdbdHJhY2s9JyN7JHRyYWNrfSddIGlvbi1sYWJlbCB7XG4gICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAkdmFsdWU7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICB9XG59XG5cbi5jdXN0b21lciB7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgIzY2MDBjYztcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG59Il19 */\";","export default \"<ion-header translucent=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title *ngIf=\\\"!showSearchbar\\\">Customer List</ion-title>\\n    <ion-searchbar #txtSearch  *ngIf=\\\"showSearchbar\\\" showCancelButton=\\\"always\\\" [(ngModel)]=\\\"searchValue\\\" (ionChange)=\\\"getCustomerList()\\\" (ionCancel)=\\\"showSearchbar = false\\\" placeholder=\\\"Search\\\" [debounce]=\\\"2000\\\"></ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"!showSearchbar\\\" (click)=\\\"showSearchbar = true\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"search\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen=\\\"true\\\">\\n  <ion-list #scheduleList>\\n\\n    <ion-item-sliding *ngFor=\\\"let item of data; let i=index\\\" #slidingItem >\\n      <ion-item (click)=\\\"showCustomerDetails(item)\\\">\\n        <ion-label class=\\\"customer\\\">\\n          <h3><b>{{i+1}}). {{item.strCustomerName}} &mdash; {{item.strCustomerNumber}}</b></h3>\\n          <p>\\n            <b>Bill To:</b> {{item.strBillToAddress}}, {{item.strBillToCity}}, {{item.strBillToState}}, {{item.strBillToZipCode}}\\n          </p>\\n          <p>\\n            <b>Email:</b> {{item.strEmail}} &mdash; <b>Phone:</b> {{item.strPhone1}}\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-item-sliding>\\n\\n  </ion-list>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}