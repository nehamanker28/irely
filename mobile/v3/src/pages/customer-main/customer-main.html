<ion-header>

  <ion-toolbar color="white" class="my-toolbar box-shadow" >
    <ion-grid no-padding>
      <ion-row>
        <ion-col col-5 style="margin-right: 5px;">
          <ion-searchbar [(ngModel)]="searchValue" large (ionInput)="getCustomerList()"></ion-searchbar>
        </ion-col>
        <ion-col col-auto></ion-col>
        <ion-col col-3.5 style="margin-right: 5px;">
          <button ion-button block large primary (click)="showInvoice()" class="button-global" [disabled]="createInvoiceButton">Create Invoice   </button>          
        </ion-col>
        <ion-col col-auto></ion-col>
        <ion-col col-3.5 style="margin-left: 5px;" end>
          <button ion-button block large primary (click)="showPayment()" class="button-global" [disabled]="createPaymentButton">Create Payment</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>

</ion-header>
  
<ion-content>
  <ion-grid no-padding>
    <ion-row>      
      <ion-col>
        <ion-content>
          <ion-grid no-padding>
            <ion-row>
              <ion-col col-5>
                <ion-content>
                  <ion-list (ionItemReorder)="reorderItems($event)">
                    <ion-item name='customer_items' style="border-bottom:1px;border-style:solid;border-bottom-color: lightgray;" *ngFor="let item of data" (click)="showCustomerDetails(item)" id="customer_div_{{item.intCustomerMobileId}}">
                      <table>                  
                        <td>
                          <p>Customer No:</p>
                          <p>Customer Name:</p>
                          <p>Address:</p>
                          <p>City, State, Zip:</p>
                        </td>
                        <td style="padding-left:10px">
                          <p><b>{{item.strCustomerNumber || ' '}} &nbsp; </b></p>
                          <p><b>{{item.strCustomerName || ' '}} &nbsp; </b></p>
                          <p><b>{{item.strBillToAddress || ' '}} &nbsp; </b></p>
                          <p><b>{{item.strBillToCity || ' '}}, {{item.strBillToState || ' '}}, {{item.strBillToZipCode || ' '}} &nbsp; </b></p>
                        </td>
                      </table>
                    </ion-item>
                  </ion-list>
                </ion-content>
              </ion-col>
              <ion-col col-7>
                <ion-content>
                  <ion-list style="margin-bottom: 0px;">
                    <ion-list-header class="customer-details-header">
                      <h1>Customer</h1>
                    </ion-list-header>
                    <ion-item>
                      <ion-grid>
                        <ion-row>
                          <ion-col col-2 style="justify-content: left;">
                            <p>Name:</p>                            
                          </ion-col>
                          <ion-col col-10 style="justify-content: left;">
                            <p><b>{{customer.strCustomerName}} &nbsp;</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-2 style="justify-content: left;">
                            <p>Phone:</p>                            
                          </ion-col>
                          <ion-col col-4 style="justify-content: left;">
                            <p><b>{{customer.strPhone}} &nbsp;</b></p>                       
                          </ion-col>
                          <ion-col col-2 style="justify-content: left;">
                            <p>Email:</p>                            
                          </ion-col>
                          <ion-col col-4 style="justify-content: left;">
                            <p><b>{{customer.strEmail}} &nbsp;</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-4 style="justify-content: left;">
                            <p>Billing Address:</p>                            
                          </ion-col>
                          <ion-col col-8 style="justify-content: left;">
                            <p><b>{{customer.strBillToAddress}} &nbsp;</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-4 style="justify-content: left;">
                            <p>Billing City, State, Zip:</p>                            
                          </ion-col>
                          <ion-col col-8 style="justify-content: left;">
                            <p><b>{{customer.strBillToCity}} &nbsp;</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-2 style="justify-content: left;">
                            <p>Notes:</p>                            
                          </ion-col>
                          <ion-col col-10 style="justify-content: left;">
                            <p><b>{{customer.strInternalNotes}} &nbsp;</b></p>                       
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-item>
                    <!-- <ion-item>
                      <ion-label stacked>Name</ion-label>
                      <ion-input type="text" value={{customer.strCustomerName}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Billing Address</ion-label>
                      <ion-input type="text" value={{customer.strBillToAddress}}></ion-input>
                    </ion-item> 
                    <ion-item>
                      <ion-label stacked>Billing City, State, Zip</ion-label>
                      <ion-input type="text" value={{customer.strBillToCity}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Phone</ion-label>
                      <ion-input type="text" value={{customer.strPhone}}></ion-input>
                    </ion-item> 
                    <ion-item>
                      <ion-label stacked>Email</ion-label>
                      <ion-input type="text" value={{customer.strEmail}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Notes</ion-label>
                      <ion-input type="text" value={{customer.strInternalNotes}}></ion-input>
                    </ion-item> -->
                  </ion-list>
                  <ion-list style="margin-bottom: 0px;">
                    <ion-list-header class="customer-details-header">
                      <h1>AR</h1>
                    </ion-list-header>
                    <ion-item>
                      <ion-grid>
                        <ion-row>
                          <ion-col col-3 style="justify-content: left;">
                            <p>Credit Limit:</p>                            
                          </ion-col>
                          <ion-col col-2 style="justify-content: left;">
                            <p><b>{{customer.dblCreditLimit}} &nbsp;</b></p>                       
                          </ion-col>
                          <ion-col col-3 style="justify-content: left;">
                            <p>Current Balance:</p>                            
                          </ion-col>
                          <ion-col col-4 style="justify-content: left;">
                            <p><b>&nbsp; {{customer.dblTotalDue}}</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-3 style="justify-content: left;">
                            <p>31+ Days Amt:</p>                            
                          </ion-col>
                          <ion-col col-2 style="justify-content: left;">
                            <p><b>{{customer.dbl31DaysAmountDue}} &nbsp;</b></p>                       
                          </ion-col>
                          <ion-col col-3 style="justify-content: left;">
                            <p>Last Payment:</p>                            
                          </ion-col>
                          <ion-col col-4 style="justify-content: left;">
                            <p><b>&nbsp; {{customer.dtmLastPaymentDate}}</b></p>                       
                          </ion-col>
                        </ion-row>
                        <ion-row>
                          <ion-col col-3 style="justify-content: left;">
                            <p>Split With:</p>                            
                          </ion-col>
                          <ion-col col-2 style="justify-content: left;">
                            <p><b>{{customer.dbl31DaysAmountDue}} &nbsp;</b></p>                       
                          </ion-col>
                          <!-- <ion-col col-3 style="justify-content: left;">
                            <p>Last Payment Date:</p>                            
                          </ion-col>
                          <ion-col col-4 style="justify-content: left;">
                            <p><b>&nbsp; {{customer.dtmLastPaymentDate}}</b></p>                       
                          </ion-col> -->
                        </ion-row>
                      </ion-grid>
                    </ion-item>

                    <!-- <ion-item>
                      <ion-label stacked>Credit Limit</ion-label>
                      <ion-input type="text" value={{customer.dblCreditLimit}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Current Balance</ion-label>
                      <ion-input type="text" value={{customer.dblTotalDue}}></ion-input>
                    </ion-item> 
                    <ion-item>
                      <ion-label stacked>31+ Days Amount</ion-label>
                      <ion-input type="text" value={{customer.dbl31DaysAmountDue}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Last Payment Date</ion-label>
                      <ion-input type="text" value={{customer.dtmLastPaymentDate}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Last Payment Amount</ion-label>
                      <ion-input type="text" value={{customer.dblLastPayment}}></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Split With</ion-label>
                      <ion-input type="text" value=""></ion-input>
                    </ion-item>
                    <ion-item>
                      <ion-label stacked>Split Percentage</ion-label>
                      <ion-input type="text" value=""></ion-input>
                    </ion-item> -->
                  </ion-list>
                  <ion-list style="margin-bottom: 0px;" (ionItemReorder)="reorderSites($event)">
                    <ion-list-header class="customer-details-header">
                      <h1>Sites</h1>
                    </ion-list-header>
                    <ion-item style="border-bottom:1px;border-style:solid;border-bottom-color: lightgray;" *ngFor="let site of sites" (click)="selectConsumptionSite(site)">
                      <table>                  
                        <!-- <td>
                            <ion-buttons end style="padding-left: 20px">
                              <button ion-button block large (click)="showOOG(site)" class="button-global">   Out Of Gas Reports   </button>
                            </ion-buttons>
                          </td> -->
                        <td>
                          <p>Site No:</p>
                          <p>Description:</p>
                          <p>Site Address:</p>
                          <p>City, State, Zip:</p>
                          <p>Item No:</p>
                          <p>Fill Method:</p>
                          <p>Terms:</p>
                          <!-- <p>Last Delivery Date:</p>
                          <p>Last Delivery Qty:</p> -->
                          <p>Type:</p>
                          <p>Serial No:</p>
                          <p>Capacity:</p>
                        </td>
                        <td style="padding-left:10px">
                          <p><b>{{site.intSiteNumber || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strDescription || ' '}} &nbsp; </b></p>                 
                          <p><b>{{site.strSiteAddress || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strCity || ' '}}, {{site.strState || ' '}}, {{site.strZipCode || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strItemNo || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strFillMethod || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strDeliveryTerm || ' '}} &nbsp; </b></p>
                          <!-- <p><b>Not yet implemented</b></p>                 
                          <p><b>Not yet implemented</b></p> -->
                          <p><b>{{site.strDeviceType || ' '}} &nbsp; </b></p>
                          <p><b>{{site.strSerialNumber || ' '}} &nbsp; </b></p>
                          <p><b>{{site.dblTankCapacity || ' '}} &nbsp; </b></p>
                        </td>
                        
                      </table>
                    </ion-item>                    
                  </ion-list>
                </ion-content>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-content>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>